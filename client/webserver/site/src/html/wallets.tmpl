{{define "wallets"}}
{{$passwordIsCached := .UserInfo.PasswordIsCached}}
{{template "top" .}}
<div id="main" data-handler="wallets" class="walletspage flex-grow-1 position-relative">
  <span class="me-2 connection ico-connection d-hide peers-table-icon" id="connectedIconTmpl"></span>
  <span class="me-2 errcolor ico-disconnected d-hide peers-table-icon" id="disconnectedIconTmpl"></span>
  <span class="me-2 errcolor ico-cross d-hide pointer peers-table-icon" id="removeIconTmpl"></span>
  <div class="fill-abs d-flex align-items-stretch">
    {{- /* ASSET SELECT */ -}}
    <div class="d-flex flex-column align-items-stretch stylish-overflow invisible" id="assetSelect">
      <div id="iconSelectTmpl" class="icon-select d-flex align-items-stretch">
        <div class="position-relative overflow-visible">
          <img data-tmpl="img">
          <img data-tmpl="parentImg" class="d-hide">
        </div>
        <div class="d-none d-md-flex flex-column justify-content-around ps-2">
          <span class="fs15 lh1 text-nowrap" data-tmpl="name"></span>
          <span class="fs15 lh1" data-tmpl="balance"></span>
          <span class="fs13 lh1" data-tmpl="fiat" class="d-hide"></span>
          <span class="fs13 lh1" data-tmpl="noWallet">[[[Create a Wallet]]]</span>
        </div>
      </div>
    </div>

    <div class="flex-grow-1 position-relative">
      <div class="fill-abs d-flex flex-column flex-lg-row flex-wrap-lg flex-nowrap-xxl stylish-overflow no-overflow-xxl">
        {{- /* WALLET DETAILS */ -}}
        <div class="col-24 col-lg-12 col-xxl-8 d-flex stylish-overflow-lg invisible" id="walletDetailsBox">
          <div class="my-auto w-100 flex-center flex-column py-3">
            <div class="flex-center">
              <img id="assetLogo">
              <div class="ms-2 fs28 sans-light lh1" id="assetName" data-asset-name="1"></div>
            </div>
            <div id="tokenParentBox" class="flex-center fs18 sans" class="fs16 d-hide">
              <span>[[[Token on]]]</span>
              <img id="tokenParentLogo" class="ms-1">
              <span id="tokenParentName"></span>
            </div>
            <div id="createWalletBox" class="my-2">
              <button class="py-1 px-2 hoverbg fs18" id="createWallet">[[[create_a_x_wallet]]]</button>
            </div>
            <div id="balanceBox">
              <span id="balance" class="fs35"></span>
              <span id="balanceUnit" class="fs24 grey ms-1 pb-1"></span>
            </div>
            <div id="fiatBalanceBox" class="fs14 grey flex-center">
              ~ <span id="fiatBalance" class="mx-1 lh1"></span> USD
            </div>

            <div class="d-flex align-items-start align-items-stretch mt-2 flex-column flex-md-row w-100 px-3" id="walletDetails">
              <div class="d-flex flex-column align-items-stretch flex-grow-1" id="balanceBreakdownBox">
                <div>
                  <table id="balanceTable" class="fs14 mt-2 w-100">
                    <tbody id="balanceDetailBox">
                      <tr id="balanceDetailRow">
                        <td data-tmpl="category" class="grey">
                         <span data-tmpl="name"></span>
                         <span data-tmpl="tooltipMsg" data-tooltip="" class="ico-info d-hide"></span>
                        </td>
                        <td data-tmpl="subBalance" class="demi"></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div id="sendReceive" class="d-flex w-100 justify-content-between fs22 mt-3">
                  <button id="receive" class="flex-center hoverbg me-3">
                    <span class="ico-qrcode fs14"></span>
                    <span class="fs16 ms-2">[[[Receive]]]</span>
                  </button>
                  <button id="send" class="flex-center hoverbg ms-3">
                    <span class="ico-send fs14"></span>
                    <span class="fs16 ms-2">[[[Send]]]</span>
                  </button>
                </div>
              </div>

              <div class="d-flex justify-content-start align-items-start flex-column flex-grow-1" id="walletInfo">
                <table id="walletInfoTable" class="fs14 mt-2 w-100">
                  <tbody>
                    <tr id="statusLocked">
                      <td class="grey">[[[Status]]]</td>
                      <td><span class="ico-locked fs14 me-2"></span class="demi">[[[:title:locked]]]</td>
                    </tr>
                    <tr id="statusReady">
                      <td class="grey">[[[Status]]]</td>
                      <td class="demi"><span class="ico-unlocked fs14 me-2"></span>[[[:title:ready]]]</td>
                    </tr>
                    <tr id="statusOff">
                      <td class="grey">[[[Status]]]</td>
                      <td><span class="ico-sleeping fs14 me-2"></span class="demi">[[[:title:off]]]</td>
                    </tr>
                    <tr id="statusDisabled">
                      <td class="grey">[[[Status]]]</td>
                      <td><span class="ico-cross errcolor fs14 me-2"></span class="demi">[[[Disabled]]]</td>
                    </tr>
                    <tr id="unlockBttnBox">
                      <td colspan="2" class="pb-2">
                        <button id="unlockBttn" class="fs14 p-1 hoverbg">[[[Unlock]]]</button>
                      </td>
                    </tr>
                    <tr id="lockBttnBox">
                      <td colspan="2" class="pb-2">
                        <button id="lockBttn" class="fs14 p-1 hoverbg">[[[Lock]]]</button>
                      </td>
                    </tr>
                    <tr id="connectBttnBox">
                      <td colspan="2" class="pb-2">
                        <button id="connectBttn" class="fs14 p-1 hoverbg">[[[Connect]]]</button>
                      </td>
                    </tr>
                    <tr>
                      <td class="grey text-nowrap">[[[Wallet Type]]]</td>
                      <td id="walletType" class="demi"></td>
                    </tr>
                    <tr id="peerCountBox">
                      <td class="grey text-nowrap">[[[Peer Count]]]</td>
                      <td id="peerCount" class="demi"></td>
                    </tr>
                    <tr id="syncProgressBox">
                      <td class="grey text-nowrap">[[[Sync Progress]]]</td>
                      <td id="syncProgress" class="demi"></td>
                    </tr>
                    <tr id="reconfigureBox">
                      <td colspan="2" class="pt-2">
                        <button id="reconfigureBttn" class="fs15 hoverbg p-1">
                          <span class="ico-settings"></span>
                          [[[Settings]]]
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            {{- /* STAKING */ -}}
            <div id="stakingBox" class="position-relative m-3 w-100 d-flex align-items-stretch">
              <div class="d-flex flex-column align-items-stretch flex-grow-1">
                <div class="flex-center fs24 brdrbottom px-2 py-1">
                  <span class="ico-ticket me-2"></span>Staking
                </div>
                <div id="stakingSummary" class="d-flex align-items-stretch flex-grow-1">
                  <div class="d-flex flex-column align-items-stretch justify-content-center fs14 flex-grow-1 px-3">
                    <div class="d-flex justify-content-between align-items-stretch">
                      <div class="flex-center grey">Active tickets</div>
                      <div id="stakingTicketCount" class="flex-center demi"></div>
                    </div>
                    <div class="d-flex justify-content-between align-items-stretch">
                      <div class="flex-center grey">Tickets bought</div>
                      <div id="totalTicketCount" class="flex-center demi"></div>
                    </div>
                    <div class="d-flex justify-content-between align-items-stretch">
                      <div class="flex-center grey">Total rewards</div>
                      <div id="totalTicketRewards" class="flex-center demi"></div>
                    </div>
                    <div class="d-flex justify-content-between align-items-stretch">
                      <div class="flex-center grey">Votes cast</div>
                      <div id="totalTicketVotes" class="flex-center demi"></div>
                    </div>
                    <div id="vspDisplayBox" class="d-flex justify-content-between align-items-stretch">
                      <div class="flex-center grey">VSP</div>
                      <div id="vspDisplay" class="flex-center demi pointer hoverbg">
                        <span id="vspEditIcon" class="ico-edit me-2"></span>
                        <span id="vspURL"></span>
                      </div>
                    </div>
                    <div id="pickVSP" class="fs16 p-2 flex-center">
                      <button id="showVSPs" class="fs15 hoverbg p-1">Select a Voting Service Provider</button>
                    </div>
                  </div>
                  <div id="setVotes" class="flex-center p-3 flex-column brdrleft hoverbg pointer">
                    <div class="flex-center fs18">
                      <span class="fs22 ico-check"></span>
                      <span class="ms-2 fs18">Set Votes</span>
                    </div>
                    <hr class="dashed my-1 w-75">
                    <div class="flex-center flex-column fs14">
                      <span><span id="stakingAgendaCount"></span> agendas</span>
                      <span><span id="stakingTspendCount"></span> treasury spends</span>
                    </div>
                  </div>
                </div>
                <div id="stakingErr" class="text-center fs16 p-2 errcolor"></div>
                <div id="stakingRpcSpvMsg" class="flex-center fs16 py-1 px-2">
                  <span class="ico-info fs12 me-2"></span>Staking unavailable for RPC wallets using SPV
                </div>
                {{- /* PURCHASE TICKETS */ -}}
                <div id="purchaseTicketsBox" class="w-100 d-flex align-items-stretch brdrtop fs18">
                  <div id="purchaseTicketsBttn" class="hoverbg pointer flex-center flex-grow-1 brdrright p-2">
                    <span><span class="ico-ticket me-1"></span> Purchase Tickets</span>
                  </div>
                  <div id="ticketHistory" class="hoverbg pointer flex-center flex-grow-1 p-2">
                    <span><span class="ico-textfile me-1"></span> Tickets</span>
                  </div>
                </div>
              </div>
              <div id="ticketPriceBox" class="flex-center p-3 brdrleft">
                <div class="d-flex flex-column">
                  <div>
                    <span class="fs14 demi lh1 pb-1">Ticket Price</span>
                    <span class="d-flex align-items-end">
                      <span class="fs18" id="ticketPrice"></span>
                    </span>
                  </div>
                  <hr class="dotted my-3">
                  <div>
                    <span class="fs14 demi lh1 pb-1">Vote Reward</span>
                    <span class="d-flex align-items-end">
                      <span class="fs18" id="votingSubsidy"></span>
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>{{- /* END STAKING */ -}}
        </div>{{/* END WALLET DETAILS */}}

        {{- /* MARKETS OVERVIEW */ -}}
        <div class="col-24 col-lg-12 col-xxl-8 d-flex stylish-overflow-lg invisible" id="marketsOverviewBox">
          <div class="m-auto flex-center flex-column w-100 p-3">
            <div class="d-flex align-items-start flex-column mw-90p">
              <span class="fs28 sans-light mb-2">[[[asset_name Markets]]]</span>
              <table id="availableMarketsTable" class="w-100">
                <thead>
                  <tr>
                    <th>[[[Market]]]</th>
                    <th class="d-none d-md-table-cell d-lg-none d-xxl-table-cell">[[[Host]]]</th>
                    <th>[[[:title:price]]]</th>
                    <th>[[[:title:volume]]]</th>
                  </tr>
                </thead>
                <tbody id="availableMarkets" class="fs17">
                  <tr id="marketRow" class="hoverbg pointer">
                    <td>
                      <img data-tmpl="baseLogo">
                      <img data-tmpl="quoteLogo">
                      <span class="demi">
                        <span data-tmpl="baseSymbol"></span>-<span data-tmpl="quoteSymbol"></span>
                      </span>
                    </td>
                    <td class="d-none d-md-table-cell d-lg-none d-xxl-table-cell"><div data-tmpl="host" class="short-host"></div></td>
                    <td data-tmpl="priceBox">
                      <span data-tmpl="price"></span>
                      <span class="fs13 grey">
                        <sup data-tmpl="priceQuoteUnit" class></sup>/<sub data-tmpl="priceBaseUnit"></sub>
                      </span>
                    </td>
                    <td data-tmpl="volumeBox">
                      <span data-tmpl="volume"></span>
                      <span data-tmpl="volumeUnit" class="fs15 grey"></span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>{{/* END MARKETS OVERVIEW */}}

        {{- /* RECENT ORDERS */ -}}
        <div class="col-24 col-xxl-8 d-flex stylish-overflow-lg invisible" id="orderActivityBox">
          <div class="my-auto flex-center w-100 p-3" id="orderActivity">
            <div class="d-flex align-items-start flex-column mw-90p">
              <span class="fs28 sans-light mb-2">[[[Recent asset_name Activity]]]</span>
              <table id="ordersTable" class="my-auto" class="w-100">
                <thead>
                  <tr>
                    <th>[[[Trade]]]</th>
                    <th>[[[Status]]]</th>
                    <th class="d-none d-md-table-cell">[[[Filled]]]</th>
                    <th>[[[Age]]]</th>
                    <th></th> {{/* Link */}}
                  </tr>
                </thead>
                <tbody id="recentOrders">
                  <tr id="recentOrderTmpl">
                    <td data-tmpl="trade" class="text-nowrap flex-center">
                      <span data-tmpl="fromQty"></span>
                      <img data-tmpl="fromLogo" class="micro-icon mx-1">
                      <span data-tmpl="fromSymbol" class="d-none d-md-inline"></span>
                      <span>&rarr;</span>
                      <span data-tmpl="toQty"></span>
                      <img data-tmpl="toLogo" class="micro-icon mx-1">
                      <span data-tmpl="toSymbol" class="d-none d-md-inline"></span>
                    </td>
                    <td data-tmpl="status"></td>
                    <td data-tmpl="filled" class="d-none d-md-table-cell"></td>
                    <td data-tmpl="age" class="text-nowrap"></td>
                    <td><a class="ico-open fs14 pointer plainlink" data-tmpl="link"></a></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="m-auto flex-center flex-column w-100 py-3" id="noActivity">
            [[[No Recent Activity]]]
          </div>
        </div>{{/* END RECENT ORDERS */}}
      </div>
    </div>
  </div>{{/* END MAIN CONTENT */}}

  {{- /* POP-UP FORMS */ -}}
  <div id="forms" class="d-hide">

    <form id="checkmarkForm" class="flex-center flex-column">
      <div id="checkmarkBox" class="flex-center">
        <span class="ico-check" id="checkmark"></span>
      </div>
      <div id="successMessage" class="fs22"></div>
    </form>

    {{- /* NEW WALLET */ -}}
    <form class="position-relative d-hide" id="newWalletForm" autocomplete="off">
      {{template "newWalletForm"}}
    </form>

    {{- /* SEND */ -}}
    <form class="pb-3 d-hide" id="sendForm" autocomplete="off">
      <div class="form-closer hoverbg"><span class="ico-cross"></span></div>
      <div class="py-1 flex-center position-relative fs24 sans-light">
        [[[Send]]]
        <img id="sendLogo" class="mini-icon mx-2">
        <span id="sendName"></span>
      </div>
      <div class="flex-center pt-1 d-hide fs18 sans" id="sendTokenMsgBox">
        <span>[[[Token on]]]</span>
        <img id="sendTokenParentLogo" class="ms-1 micro-icon">
        <span id="sendTokenParentName"></span>
      </div>
      <div class="mt-3">
        <label for="sendAddr" class="form-label ps-1 mb-1">[[[Address]]]</label>
        <div class="d-flex">
         <input type="text" class="form-control col-1 select" id="sendAddr" spellcheck="false">
         <span id="validAddr" class="ico-check mx-2 pt-2 d-hide"></span>
        </div>
      </div>
      <div class="d-flex align-items-stretch">
        <div class="mt-2 col-10 p-0">
          <label for="sendAmt" class="form-label ps-1 mb-1">[[[Amount]]]</label>
          <input type="text" class="form-control select" id="sendAmt">
        </div>
        <div class="col-14 px-0 py-1 flex-center flex-column fs15 justify-content-between">
          <div class="d-inline pt-3">[[[Balance]]]: <span class="pointer" id="walletBal"></span></div>
        </div>
      </div>
      <span class="mt-2 d-hide">~<span id="sendValue" class="mx-1"></span>USD</span>
      <div id="toggleSubtract" class="form-check pt-2">
          <input class="form-check-input" type="checkbox" id="subtractCheckBox">
          <label for="subtractCheckBox" class="form-check-label ps-1">Subtract fees from amount sent.</label>
      </div>
      <div id="maxSendDisplay" class="mt-3">
        <hr class="dashed mt-2">
       <div class="d-flex justify-content-between">
        <span data-tooltip="[[[max_estimated_send_tooltip]]]">
        [[[max_estimated_send]]]:
        <span class="ico-info"></span>
        </span>
        <span id="maxSend"></span>
       </div>
       <span class="d-flex d-hide justify-content-end grey fs14">
        ~<span id="maxSendFiat" class="mx-1"></span>USD
       </span>
       <div class="d-flex align-items-center justify-content-between">[[[max_estimated_send_fee]]]: 
        <span id="maxSendFee"></span>
       </div>
       <span class="d-flex d-hide justify-content-end grey fs14">
        ~<span id="maxSendFeeFiat" class="mx-1"></span>USD
       </span>
      </div>
      <hr class="dashed mt-2">
      <div class="d-flex justify-content-end mt-2">
          <button id="submitSendForm" type="button" class="col-8 mt-1 text-center fs15 bg2 selected">[[[Send]]]</button>
      </div>
      <div class="fs15 pt-3 text-center errcolor text-break" id="sendErr"></div>
    </form>

    {{- /* Verify Send */ -}}
    <form class="pb-3 d-hide" id="vSendForm">
      <div class="form-closer hoverbg"><span class="ico-cross"></span></div>
      <div class="py-1 text-center position-relative header fs22 sans-light">
      [[[confirm]]]
       <img id="vSendLogo" class="micro-icon mx-1">
      [[[transfer]]]
      </div>
      <div class="grey fs18 text-center m-2">[[[sending]]]</div>
      <div class="text-center">
        <span class="d-hide" id="approxSign">&cong;</span>
        <span class="fs22 font-weight-bold" id="vSendDestinationAmt"></span>
        <span id="vSendSymbol"></span>
      </div>
      <div class="text-center">[[[to]]]</div>
      <div id="vSendAddr" class="text-center font-weight-bold"></div>
      <hr class="dashed mt-2">
      <div id="vSendEstimates" class="d-hide">
        <div class="d-flex align-items-center justify-content-between">[[[estimated_fee]]]: 
         <span id="vSendFee"></span>
        </div>
        <span class="d-flex d-hide justify-content-end grey fs14">
         ~<span id="vSendFeeFiat" class="mx-1"></span>USD
        </span>
        <hr class="dashed mt-2">
        <div class="d-flex align-items-center justify-content-between">[[[estimated_total_spend]]]: 
         <span id="vTotalSend"></span>
        </div>
        <span class="d-flex d-hide justify-content-end grey fs14">
         ~<span id="vTotalSendFiat" class="mx-1"></span>USD
        </span>
        <div class="d-flex align-items-center justify-content-between">[[[estimated_balance]]]: 
         <span id="balanceAfterSend"></span>
        </div>
        <span class="d-flex d-hide justify-content-end grey fs14">
         ~<span id="balanceAfterSendFiat" class="mx-1"></span>USD
        </span>
      </div>
      <div id="txFeeNotAvailable" class="d-hide" data-tooltip="Fee unavailable">[[[txfee_not_available]]]
        <span class="ico-info errcolor"></span>
      </div>
      <hr class="dashed my-4">
       <div class="fs16 px-4 text-center">[[[Authorize the transfer with your app password.]]]</div>
        <div class="input-group mt-2">
          <label for="vSendPw" class="form-label m-2">[[[Password]]]: </label>
          <input type="password" class="form-control select" id="vSendPw" autocomplete="off">
        </div>
      <div class="d-flex justify-content-between align-items-stretch flex-wrap mt-3">
        <div class="col-12 p-0">
          <button id="vCancelSend" type="button" class="w-75 mt-1 justify-content-center fs15 bg2 ">[[[cancel]]]</button>
        </div>
        <div class="col-12 p-0 text-end">
          <button id="vSend" type="button"
           class="w-75 mt-1 justify-content-center fs15 bg2 selected">[[[confirm]]]</button>
        </div>
      </div>
      <div class="fs15 pt-3 text-center errcolor text-break" id="vSendErr"></div>
    </form>

    {{- /* DEPOSIT ADDRESS */ -}}
    <form class="position-relative flex-center flex-column fs20 d-hide" id="deposit">
      {{template "depositAddress"}}
    </form>

    {{- /* UNLOCK WALLET */ -}}
    <form class="position-relative d-hide" id="unlockWalletForm" autocomplete="off">
      {{template "unlockWalletForm"}}
    </form>

    {{- /* RECONFIGURE WALLET */ -}}
    <form class="pb-3 d-hide mt-3" id="reconfigForm" autocomplete="off">
      <div class="form-closer recfg-form hoverbg"><span class="ico-cross"></span></div>
      <div class="py-1 text-center position-relative fs22 sans-light">
        [[[Reconfigure]]]
        <img id="recfgAssetLogo" class="micro-icon mx-1">
        <span id="recfgAssetName"></span>
        [[[Wallet]]]
      </div>
      <div class="py-1 mt-2" id="reconfigInputs">
        {{template "walletConfigTemplates"}}
      </div>
      {{template "walletCfgGuideTemplate"}}
      <div id="showChangePW" class="mt-2 pointer d-flex align-items-center justify-content-start">
        <span id="showIcon" class="ico-plus fs8 ps-1"></span>
        <span id="hideIcon" class="ico-minus fs8 ps-1"></span>
        <span id="switchPWMsg" class="d-inline-block ps-1 pb-1"></span>
      </div>
      <div id="changePW">
        <div class="fs15">
          [[[pw_change_instructions]]]
        </div>
        <div class="pt-3">
          <label for="newPW" class="form-label mb-1">[[[New Wallet Password]]]</label>
          <input type="password" class="form-control select" id="newPW" autocomplete="new-password">
        </div>
      </div>

      <div id="showChangeType" class="my-2 pointer d-flex align-items-center justify-content-start">
        <span id="changeTypeShowIcon" class="ico-plus fs8 ps-1"></span>
        <span id="changeTypeHideIcon" class="ico-minus fs8 ps-1 d-hide"></span>
        <span id="changeTypeMsg" class="d-inline-block ps-1 pb-1">[[[change the wallet type]]]</span>
      </div>
      <div id="changeWalletType" class="d-hide mb-3">
        <div class="my-2">
          [[[pw_change_warn]]]
        </div>
        <select id="changeWalletTypeSelect"></select>
      </div>
      <div id="passwordWrapper" class="d-flex mt-1 {{if $passwordIsCached}}justify-content-end{{end}}">
        <div class="col-12 p-0 {{if $passwordIsCached}}d-hide{{end}}">
          <label for="appPW" class="form-label ps-1 mb-1">[[[App Password]]]</label>
          <input type="password" class="form-control select" id="appPW" autocomplete="off">
        </div>
        <div class="col-12 p-0 text-end">
          <div>&nbsp;</div>
          <button id="submitReconfig" type="button" class="w-75 mb-1 justify-content-center fs15 bg2 selected">[[[Submit]]]</button>
        </div>
      </div>
      <div class="fs15 pt-3 text-center d-hide errcolor text-break" id="reconfigErr"></div>
      <div class="fs15 pt-3 d-hide errcolor text-break" id="reconfigSupportMsg"></div>
      <hr class="dashed my-2">
      <div class="sans-light fs17" id="otherActionsLabel">[[[other_actions]]]</div>
      <div class="d-flex flex-row fs15 pt-1">
        <button id="unapproveTokenAllowance" type="button" class="p-1 me-2 hoverbg">[[[disallow_token]]]</button>
        <button id="managePeers" type="button" class="p-1 me-2 hoverbg">[[[manage_peers]]]</button>
        <button id="downloadLogs" type="button" class="p-1 me-2 hoverbg">[[[wallet_logs]]]</button>
        <button id="exportWallet" type="button" class="me-2 p-1 fs15 bg2">[[[export_wallet]]]</button>
        <button id="recoverWallet" type="button" class="danger p-1 me-2 hoverbg">[[[recover]]]</button>
        <button id="rescanWallet" type="button" class="danger p-1 me-2 hoverbg">[[[Rescan]]]</button>
        <button id="disableWallet" type="button" class="danger p-1 me-2 hoverbg">[[[disable_wallet]]]</button>
        <button id="enableWallet" type="button" class="green p-1 me-2 hoverbg">[[[enable_wallet]]]</button>
      </div>
    </form>

    {{- /* TOGGLE WALLET STATUS AUTHORIZATION */ -}}
    <form class="d-hide" id="toggleWalletStatusConfirm">
      {{template "toggleWalletStatusConfirm"}}
    </form>

    {{- /* MANAGE PEERS */ -}}
    <form class="d-hide" id="managePeersForm">
      <div class="form-closer hoverbg"><span class="ico-cross"></span></div>
      <div class="px-2 py-1 text-center position-relative fs22 sans-light">
        [[[manage_peers]]]
      </div>
      <table id="peersTable">
        <thead>
          <tr>
            <th class="text-nowrap">[[[address]]]</th>
            <th class="text-nowrap">[[[source]]]</th>
            <th class="text-nowrap">[[[connected]]]</th>
            <th class="text-nowrap">[[[Remove]]]</th>
          </tr>
        </thead>
        <tbody id="peersTableBody">
          <tr id="peerTableRow">
            <td data-tmpl="addr"></td>
            <td data-tmpl="source"></td>
            <td data-tmpl="connected"></td>
            <td data-tmpl="remove"></td>
          </tr>
        </tbody>
      </table>
      <div class="d-flex justify-content-end mt-4">
        <input class="form-control select" id="addPeerInput">
        <button id="addPeerSubmit" type="button" class="justify-content-center fs15 bg2 selected mx-2">[[[add_peer]]]</button>
      </div>
      <div id="peerSpinner" class="flex-center position-relative py-2 d-hide">
        <div class="ico-spinner spinner fs15"></div>
      </div>
      <div class="fs15 pt-3 text-center d-hide errcolor" id="managePeersErr"></div>
    </form>

    {{- /* UNAPPROVE TOKEN VERSIONS TABLE FORM */ -}}
    <form class="d-hide" id="unapproveTokenTableForm">
      <div class="form-closer hoverbg"><span class="ico-cross"></span></div>
      <div class="px-2 py-1 text-center position-relative fs22 sans-light">
        [[[unapprove_token_for]]]
      </div>
      <div id="tokenVersionNone" class="fs15">
        [[[no_token_allowances]]]
      </div>
      <table id="tokenVersionTable">
        <thead>
          <tr>
            <th class="text-nowrap">[[[version]]]</th>
            <th class="text-nowrap">[[[used_by_dex]]]</th>
            <th class="text-nowrap">[[[Remove]]]</th>
          </tr>
        </thead>
        <tbody id="tokenVersionBody">
          <tr id="tokenVersionRow">
            <td data-tmpl="version"></td>
            <td data-tmpl="usedBy"></td>
            <td data-tmpl="remove"></td>
          </tr>
        </tbody>
      </table>
    </form>

    {{- /* UNAPPROVE SPECIFIC TOKEN VERSION FORM */ -}}
    <form class="position-relative flex-center flex-column fs20 d-hide" id="unapproveTokenForm">
      <div class="form-closer hoverbg"><span class="ico-cross"></span></div>
      <div class="px-2 py-1 text-center fs22 text-nowrap sans-light position-relative">
        [[[unapprove_token_version]]]
      </div>
      <div id="unapproveTokenSubmissionElements">
        <div class="fs15 text-start mt-2">
          [[[unapprove_token_text]]]
        </div>
        <hr class="dashed my-2">
        <div class="d-flex justify-content-between align-items-stretch flex-wrap">
          <div id="unapproveTokenPWBox" class="col-11 p-0">
            <label for="unapproveTokenPW" class="form-label pt-3 ps-1 mb-1">[[[App Password]]]</label>
            <input type="password" class="form-control select" id="unapproveTokenPW" autocomplete="off">
          </div>
          <span class="col-3 hide-pw"></span> {{/* flex dummy */}}
          <div class="d-grid align-items-end col-10 p-0">
            <button id="unapproveTokenSubmit" type="button" class="justify-content-center fs15 bg2 selected">[[[Submit]]]</button>
          </div>
        </div>
      </div>
      <span id="unapproveTokenTxMsg" class="text-center fs17 sans-light d-hide">[[[token_unapproval_tx_msg]]]</span>
      <a target="_blank" class="subtlelink" id="unapproveTokenTxID"></a>
      <div class="fs15 pt-3 text-center d-hide errcolor" id="unapproveTokenErr"></div>
    </form>

    {{- /* CONFIRM FORCE FORM */ -}}
    <form class="d-hide" id="confirmForce">
      <div class="form-closer hoverbg"><span class="ico-cross"></span></div>
      <div class="px-2 py-1 text-center position-relative fs22 sans-light">
        [[[wallet_actively_used]]]
      </div>
      <div class="fs15 text-left mt-2">
        [[[confirm_force_message]]]
      </div>
      <div class="d-flex justify-content-end mt-4">
        <button id="cancelForce" type="button" class="justify-content-center fs15 bg2 danger mx-1">[[[cancel]]]</button>
        <button id="confirmForceSubmit" type="button" class="justify-content-center fs15 bg2 selected mx-2">[[[confirm]]]</button>
      </div>
      <div class="fs15 pt-3 text-center d-hide errcolor" id="confirmForceErr"></div>
    </form>

    {{- /* RECOVER WALLET AUTHORIZATION */ -}}
    <form class="d-hide" id="recoverWalletConfirm">
      <div class="form-closer hoverbg"><span class="ico-cross"></span></div>
      <div class="px-2 py-1 text-center position-relative fs22 sans-light">
        [[[recover_wallet]]]
      </div>
      <div class="fs15 text-left mt-2">
        [[[recover_warning]]]
      </div>
      <div class="text-left mt-2">
        <label for="recoverWalletPW" class="form-label pl-1 mb-1">Password</label>
        <input type="password" class="form-control select" id="recoverWalletPW" autocomplete="current-password">
      </div>
      <div class="d-flex justify-content-end mt-4">
        <button id="recoverWalletSubmit" type="button" class="justify-content-center fs15 bg2 selected">[[[Submit]]]</button>
      </div>
      <div class="fs15 pt-3 text-center d-hide errcolor" id="recoverWalletErr"></div>
    </form>

    {{- /* EXPORT WALLET AUTHORIZATION */ -}}
    <form class="d-hide" id="exportWalletAuth">
      <div class="form-closer hoverbg"><span class="ico-cross"></span></div>
      <div class="py-1 text-center position-relative fs22 sans-light">
        [[[export_wallet]]]
      </div>
      <div class="fs15 text-start mt-2">
        [[[pw_for_wallet_seed]]]
      </div>
      <div id="exportDisclaimer" class="fs15 text-start mt-2">
        [[[export_wallet_disclaimer]]]
      </div>
      <div class="text-start mt-2">
        <label for="exportWalletPW" class="ps-1 mb-1">[[[Password]]]</label>
        <input type="password" class="form-control select" id="exportWalletPW" autocomplete="current-password">
      </div>
      <div class="d-flex justify-content-end mt-4">
        <button id="exportWalletAuthSubmit" type="button" class="justify-content-center fs15 bg2 selected">[[[Show Me]]]</button>
      </div>
      <div class="fs15 pt-3 text-center d-hide errcolor text-break" id="exportWalletErr"></div>
    </form>

    {{- /* RESTORE WALLET INFO */ -}}
    <form class="d-hide" id="restoreWalletInfo">
      <div class="form-closer hoverbg"><span class="ico-cross"></span></div>
      <div class="px-2 py-1 text-center position-relative fs22 sans-light">
        [[[export_wallet]]]
      </div>
      <div class="fs15 text-start mt-2">
        [[[export_wallet_msg]]]
      </div>
      <div class="fs15 text-start mt-2 warning-text">
        [[[clipboard_warning]]]
      </div>
      <hr />
      <div id="restoreInfoCardsList">
        <div id="restoreInfoCard">
          <span data-tmpl="name" class="text-left position-relative fs20 sans-light bold underline"></span>
          <br />
          <span data-tmpl="seedName"></span>
          <br />
          <div>
            <span data-tmpl="seed" class="mono fs14"></span>
          </div>
          <span>Instructions:</span>
          <br />
          <span data-tmpl="instructions" class="sans-light text-break preline"></span>
          <hr />
        </div>
      </div>
    </form>

    {{- /* Error Modal */ -}}
    <form id="errorModal" class="d-hide mw-425">
      <div class="form-closer hoverbg"><span class="ico-cross"></span></div>
      <div class="fs22 text-center">[[[Error]]]</div>
      <div id="errorModalMsg" class="fs16 errcolor my-2 text-center"></div>
    </form>

    {{- /* PICK A VOTING SERVICE PROVIDER */ -}}
    <form id="vspPicker" class="flex-center flex-column p-2 m-4">
      <div class="form-closer hoverbg">
        <span class="ico-cross"></span>
      </div>
      <div class="fs24 sans-light">Select a Voting Service Provider</div>
      <hr class="dashed my-2">
      <table id="vspPickerTable">
        <thead>
          <tr>
            <th>URL</th>
            <th>Fee Rate (%)</th>
            <th>Live Tickets</th>
          </tr>
        </thead>
        <tbody id="vspPickerList">
          <tr id="vspRowTmpl" class="hoverbg pointer">
            <td data-tmpl="url"></td>
            <td data-tmpl="feeRate"></td>
            <td data-tmpl="voting"></td>
          </tr>
        </tbody>
      </table>
      <p class="mt-3">
        <label for="customVspUrl">Or add custom VSP URL:</label>
      </p>
       <div class="d-flex align-items-stretch w-100">
        <input 
          id="customVspUrl"
          type="url" 
          class="flex-grow-1"
          placeholder="https://" 
          aria-label="Custom VSP URL"
        >
        <button id="customVspSubmit" class="btn btn-outline-secondary" type="button">Add</button>
      </div>
    </form>

    {{- /* PURCHASE TICKETS */ -}}
    <form id="purchaseTicketsForm" class="flex-center flex-column p-2 m-4 mw-425">
      <div class="form-closer hoverbg"><span class="ico-cross"></span></div>
      <div class="flex-center fs22 sans-light">Purchase Tickets</div>
      <div class="d-flex pt-2">
        <div class="flex-center flex-column col-50 p-4">
          <span>Current Price</span>
          <hr class="dotted my-1 w-100">
          <span id="purchaserCurrentPrice">a</span>
        </div>
        <div class="flex-center flex-column  col-50 p-4">
          <span>Available Balance</span>
          <hr class="dotted my-1 w-100">
          <span id="purchaserBal">a</span>
        </div>
      </div>
      <hr class="dotted w-100">
      <div class="d-flex w-100 flex-wrap">
        <div class="flex-center flex-column col-12 py-2 brdrright">
          <span>How Many?</span>
          <input type="number" id="purchaserInput" min="1" placeholder="0" class="fs24 p-2 mt-1 text-center">
        </div>
        <div id="purchaserAppPWBox" class="flex-center flex-column col-12 p-2">
          <span>App Password</span>
          <input type="password" id="purchaserAppPW" class="form-control select" autocomplete="off">
        </div>
        <div class="flex-center flex-column col-12 py-2">
          <button id="purchaserSubmit" class="selected fs24">Buy</button>
        </div>
      </div>
      <div id="purchaserErr" class="errcolor d-hide py-2 d-hide"></div>
    </form>

    {{- /* TICKET HISTORY */ -}}
    <form id="ticketHistoryForm" class="flex-center flex-column align-items-stretch p-2 m-4">
      <div class="form-closer hoverbg"><span class="ico-cross"></span></div>
      <div class="flex-center fs28 sans-light mb-2">Ticket History</div>
      <table id="ticketHistoryTable" class="fs14">
        <thead>
          <tr>
            <th>Age</th>
            <th>Price</th>
            <th>Status</th>
            <th>Ticket</th>
          </tr>
        </thead>
        <tbody id="ticketHistoryRows">
          <tr id="ticketHistoryRowTmpl">
            <td data-tmpl="age"></td>
            <td data-tmpl="price"></td>
            <td data-tmpl="status"></td>
            <td data-tmpl="detailsLink" class="pointer hoverbg">
              <span class="mono">
                <span data-tmpl="hashStart"></span>…<span data-tmpl="hashEnd"></span>
              </span>
              <span class="ico-open ms-1"></span>
            </td>
          </tr>
        </tbody>
      </table>
      <div id="ticketHistoryPagination" class="d-flex justify-content-end align-items-center fs18">
        <span id="ticketHistoryPrevPage" class="ico-arrowback me-1 p-1 hoverbg pointer"></span>
        <span id="ticketHistoryPage" class="me-1"></span>
        <span id="ticketHistoryNextPage" class="ico-arrowright p-1 hoverbg pointer"></span>
      </div>
      <div id="noTicketsMessage" class="text-center p-2">No tickets to show</div>
    </form>

    {{- /* SET VOTES */ -}}
    <form id="votingForm" class="flex-center flex-column p-2 m-4 mw-425">
      <div class="form-closer hoverbg"><span class="ico-cross"></span></div>

      {{- /* AGENDAS */ -}}
      <div class="flex-center fs28 sans-light mb-2 w-100 brdrtop">Agendas</div>
      <div id="votingAgendas" class="d-flex flex-column align-items-stretch w-100">
        <div id="votingAgendaTmpl" class="d-flex justify-content-between py-2 brdrtop">
          <div class="d-flex flex-column flex-grow-1 fs16 pe-3">
            <div data-tmpl="description" class="w-100"></div>
          </div>
          <div data-tmpl="choices" class="d-flex align-items-stretch">
            <div id="votingChoiceTmpl" class="flex-center flex-column pe-2">
              <span data-tmpl="id"></span>
              <input data-tmpl="radio" type="radio" class="form-check-input">
            </div>
          </div>
        </div>
      </div>

      {{- /* TREASURY SPENDS */ -}}
      <div class="flex-center fs28 sans-light mt-2 brdrtop w-100">Treasury Spends</div>
      <div id="votingTspends" class="d-flex flex-column align-items-stretch w-100">
        <div id="tspendTmpl" class="d-flex justify-content-between align-items-stretch py-2 brdrtop">
          <div class="flex-center flex-grow-1 pe-3">
            <div data-tmpl="value" class="flex-center fs16 p-2"></div>
            <div data-tmpl="hash" class="hashwrap fs14 p-1"></div>
            <div data-tmpl="explorerLink" class="p-2 hoverbg pointer"><span class="fs16 ico-open"></span></div>
          </div>
          <div class="d-flex align-items-stretch">
            <div class="flex-center flex-column pe-2">
              <span>No</span>
              <input data-tmpl="no" type="radio" value="no" class="form-check-input">
            </div>
            <div class="flex-center flex-column pe-2">
              <span>Yes</span>
              <input data-tmpl="yes" type="radio" value="yes" class="form-check-input">
            </div>
          </div>
        </div>
      </div>

      {{- /* TREASURY KEYS */ -}}
      <div class="flex-center fs28 sans-light mt-2 brdrtop w-100">Treasury Keys</div>
      <div id="votingTKeys" class="d-flex flex-column align-items-stretch w-100">
        <div id="tkeyTmpl" class="d-flex justify-content-between align-items-stretch py-2 brdrtop">
          <div class="flex-center flex-grow-1 pe-3">
            <div data-tmpl="key" class="hashwrap fs14 p-1"></div>
          </div>
          <div class="d-flex align-items-stretch">
            <div class="flex-center flex-column pe-2">
              <span>No</span>
              <input data-tmpl="no" type="radio" value="no" class="form-check-input">
            </div>
            <div class="flex-center flex-column pe-2">
              <span>Yes</span>
              <input data-tmpl="yes" type="radio" value="yes" class="form-check-input">
            </div>
          </div>
        </div>
      </div>

      <div id="votingFormErr" class="fs14 errcolor d-hide"></div>
    </form>
  </div>
</div>
{{template "bottom"}}
{{end}}
